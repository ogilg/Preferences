{
  "experiment_name": "gemma3_3k_completion_preference_probes",
  "run_dir": "results/experiments/gemma3_3k_run2/pre_task_active_learning/completion_preference_gemma-3-27b_completion_canonical_seed0",
  "activations_path": "activations/gemma_3_27b/activations_prompt_last.npz",
  "modes": [
    "ridge"
  ],
  "created_at": "2026-02-09T11:38:21.110925",
  "n_tasks_in_experiment": 3000,
  "n_tasks_with_activations": 3000,
  "n_comparisons_in_experiment": 0,
  "probes": [
    {
      "id": "ridge_L31",
      "file": "probes/probe_ridge_L31.npy",
      "method": "ridge",
      "layer": 31,
      "cv_r2_mean": 0.8631231166007828,
      "cv_r2_std": 0.004486809512454736,
      "cv_mse_mean": 4.577691071117792,
      "cv_mse_std": 0.18762809941396777,
      "best_alpha": 2154.4346900318824,
      "train_r2": 0.9366662965169723,
      "n_samples": 3000,
      "train_test_gap": 0.07354317991618953,
      "cv_stability": 0.9948016575785791,
      "alpha_sweep": [
        {
          "alpha": 1.0,
          "train_r2": 0.9999260160526112,
          "val_r2_mean": 0.7264153151524705,
          "val_r2_std": 0.014416641207909307
        },
        {
          "alpha": 4.641588833612778,
          "train_r2": 0.9996886189323921,
          "val_r2_mean": 0.7416497698557313,
          "val_r2_std": 0.013412465263553785
        },
        {
          "alpha": 21.544346900318832,
          "train_r2": 0.997750231065468,
          "val_r2_mean": 0.7729839658596355,
          "val_r2_std": 0.010536170932308922
        },
        {
          "alpha": 100.0,
          "train_r2": 0.9894660566526305,
          "val_r2_mean": 0.8179316144852067,
          "val_r2_std": 0.008076728820000743
        },
        {
          "alpha": 464.15888336127773,
          "train_r2": 0.9693832656970475,
          "val_r2_mean": 0.8512436972789599,
          "val_r2_std": 0.006885258874293188
        },
        {
          "alpha": 2154.4346900318824,
          "train_r2": 0.9366662965169723,
          "val_r2_mean": 0.8631143453585558,
          "val_r2_std": 0.004503223123784033
        },
        {
          "alpha": 10000.0,
          "train_r2": 0.8961933340795472,
          "val_r2_mean": 0.8541469840861214,
          "val_r2_std": 0.0049127735706172996
        },
        {
          "alpha": 46415.888336127726,
          "train_r2": 0.8512025882521244,
          "val_r2_mean": 0.8243271545512654,
          "val_r2_std": 0.008780558922335415
        },
        {
          "alpha": 215443.46900318822,
          "train_r2": 0.7982748839379136,
          "val_r2_mean": 0.7653112503309668,
          "val_r2_std": 0.012409362540975181
        },
        {
          "alpha": 1000000.0,
          "train_r2": 0.7472203061913812,
          "val_r2_mean": 0.6303469803863322,
          "val_r2_std": 0.011796044295129725
        }
      ]
    },
    {
      "id": "ridge_L43",
      "file": "probes/probe_ridge_L43.npy",
      "method": "ridge",
      "layer": 43,
      "cv_r2_mean": 0.8401561742004493,
      "cv_r2_std": 0.004473807430335633,
      "cv_mse_mean": 5.342485550518209,
      "cv_mse_std": 0.08067784446711075,
      "best_alpha": 2154.4346900318824,
      "train_r2": 0.9293792627011611,
      "n_samples": 3000,
      "train_test_gap": 0.08922308850071181,
      "cv_stability": 0.9946750288015669,
      "alpha_sweep": [
        {
          "alpha": 1.0,
          "train_r2": 0.9999386155657564,
          "val_r2_mean": 0.6999468097844851,
          "val_r2_std": 0.011452061054659549
        },
        {
          "alpha": 4.641588833612778,
          "train_r2": 0.9997738308643289,
          "val_r2_mean": 0.7127409127815273,
          "val_r2_std": 0.009632996737262605
        },
        {
          "alpha": 21.544346900318832,
          "train_r2": 0.9982359034982965,
          "val_r2_mean": 0.7395712455794959,
          "val_r2_std": 0.008054481020436518
        },
        {
          "alpha": 100.0,
          "train_r2": 0.9899496165253765,
          "val_r2_mean": 0.7862663565778185,
          "val_r2_std": 0.00649532787207513
        },
        {
          "alpha": 464.15888336127773,
          "train_r2": 0.9675330399696654,
          "val_r2_mean": 0.8260759980355635,
          "val_r2_std": 0.004427253936055588
        },
        {
          "alpha": 2154.4346900318824,
          "train_r2": 0.9293792627011611,
          "val_r2_mean": 0.8401675786463277,
          "val_r2_std": 0.004480887241886102
        },
        {
          "alpha": 10000.0,
          "train_r2": 0.8809547717336483,
          "val_r2_mean": 0.8304371117464406,
          "val_r2_std": 0.006543183666178565
        },
        {
          "alpha": 46415.888336127726,
          "train_r2": 0.829069775104761,
          "val_r2_mean": 0.7986933642724452,
          "val_r2_std": 0.011083306775730576
        },
        {
          "alpha": 215443.46900318822,
          "train_r2": 0.7734233961780704,
          "val_r2_mean": 0.7396078188484273,
          "val_r2_std": 0.014473548681216824
        },
        {
          "alpha": 1000000.0,
          "train_r2": 0.723760240505938,
          "val_r2_mean": 0.6065928679890057,
          "val_r2_std": 0.012966449711286781
        }
      ]
    },
    {
      "id": "ridge_L55",
      "file": "probes/probe_ridge_L55.npy",
      "method": "ridge",
      "layer": 55,
      "cv_r2_mean": 0.8346155480402639,
      "cv_r2_std": 0.004644214258657703,
      "cv_mse_mean": 5.529579940137162,
      "cv_mse_std": 0.1698183097188985,
      "best_alpha": 2154.4346900318824,
      "train_r2": 0.930794423983803,
      "n_samples": 3000,
      "train_test_gap": 0.09617887594353902,
      "cv_stability": 0.994435504743464,
      "alpha_sweep": [
        {
          "alpha": 1.0,
          "train_r2": 0.9999508908739411,
          "val_r2_mean": 0.6675314322220339,
          "val_r2_std": 0.006544862698692113
        },
        {
          "alpha": 4.641588833612778,
          "train_r2": 0.9998300592328827,
          "val_r2_mean": 0.6822304765199954,
          "val_r2_std": 0.0059252562324767725
        },
        {
          "alpha": 21.544346900318832,
          "train_r2": 0.9986932074531645,
          "val_r2_mean": 0.7107619131133612,
          "val_r2_std": 0.006584831301503238
        },
        {
          "alpha": 100.0,
          "train_r2": 0.9915539621244224,
          "val_r2_mean": 0.7647106414142387,
          "val_r2_std": 0.007172444200626303
        },
        {
          "alpha": 464.15888336127773,
          "train_r2": 0.9698652675174748,
          "val_r2_mean": 0.8147651416998286,
          "val_r2_std": 0.006542753249174429
        },
        {
          "alpha": 2154.4346900318824,
          "train_r2": 0.930794423983803,
          "val_r2_mean": 0.8346565311408103,
          "val_r2_std": 0.004642612104940047
        },
        {
          "alpha": 10000.0,
          "train_r2": 0.8802367749455745,
          "val_r2_mean": 0.8271399375106878,
          "val_r2_std": 0.005661713293697705
        },
        {
          "alpha": 46415.888336127726,
          "train_r2": 0.8263739973192668,
          "val_r2_mean": 0.7948598225442689,
          "val_r2_std": 0.010948397897249391
        },
        {
          "alpha": 215443.46900318822,
          "train_r2": 0.7680856637676446,
          "val_r2_mean": 0.7328519325648493,
          "val_r2_std": 0.014308410591118348
        },
        {
          "alpha": 1000000.0,
          "train_r2": 0.7178408550271571,
          "val_r2_mean": 0.5954502396044702,
          "val_r2_std": 0.012487092142001945
        }
      ]
    }
  ]
}